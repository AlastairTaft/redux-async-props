{"version":3,"sources":["webpack:///webpack/bootstrap 23c9356677124a8b293e","webpack:///./server.js","webpack:///external \"express\"","webpack:///external \"path\"","webpack:///external \"react\"","webpack:///external \"react-dom/server\"","webpack:///external \"react-router\"","webpack:///./modules/routes.js","webpack:///./modules/App/App.js","webpack:///./modules/KennelManagement/KennelManagement.js","webpack:///./modules/Cats/Cats.js","webpack:///external \"redux\"","webpack:///external \"react-redux\"","webpack:///./reducers/index.js","webpack:///../lib/fetchNeeds.js","webpack:///./lib/callAPIMiddleware.js","webpack:///./api/cats.js","webpack:///./index.template.html"],"names":[],"mappings":"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","file":"server.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 23c9356677124a8b293e\n **/","import express from 'express'\nimport path from 'path'\n// import some new stuff\nimport React from 'react'\n// we'll use this to render our app to an html string\nimport { renderToString } from 'react-dom/server'\n// and these to match the url to routes and then render\nimport { match, RouterContext } from 'react-router'\nimport routes from './modules/routes.js'\nimport { createStore, applyMiddleware } from 'redux'\nimport { Provider } from 'react-redux'\nimport reducer from './reducers'\nimport fetchNeeds from './../lib/fetchNeeds.js'\nimport callAPIMiddleware from './lib/callAPIMiddleware.js'\n\n// Api stuff\nimport catsRouter from './api/cats.js'\n\nvar app = express()\n\napp.use(express.static(path.join(__dirname, 'public')))\napp.get('*', function (req, res) {\n\tmatch({ routes: routes, location: req.url }, (err, redirect, props) => {\n\n\n\t\tconst store = createStore(reducer, applyMiddleware(callAPIMiddleware))\n\n    // `RouterContext` is the what `Router` renders. `Router` keeps these\n    // `props` in its state as it listens to `browserHistory`. But on the\n    // server our app is stateless, so we need to use `match` to\n    // get these props before rendering.\n    const appHtml = renderToString(\n  \t\t<Provider store={store}>\n  \t\t\t<RouterContext {...props}/>\n\t\t\t</Provider>\n\t\t)\n    console.log(`appHtml: ${appHtml}`)\n    // dump the HTML into a template, lots of ways to do this, but none are\n    // really influenced by React Router\n    var html = require(\"raw!./index.template.html\")\n    html = html.replace('$__APP_HTML__', appHtml)\n    fetchNeeds(props, store)\n    .then(() => {\n\t    const initialState = store.getState()\n\t    html = html.replace('$__INITIAL_STATE__', JSON.stringify(initialState))\n\t    res.send(html)\n    })\n  })\n})\n\napp.use('cats', catsRouter)\n\nvar PORT = process.env.PORT || 8080\napp.listen(PORT, function() {\n  console.log('Express running at localhost:' + PORT)\n})\n\n\n/** WEBPACK FOOTER **\n ** ./server.js\n **/","module.exports = require(\"express\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"express\"\n ** module id = 1\n ** module chunks = 0\n **/","module.exports = require(\"path\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"path\"\n ** module id = 2\n ** module chunks = 0\n **/","module.exports = require(\"react\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"react\"\n ** module id = 3\n ** module chunks = 0\n **/","module.exports = require(\"react-dom/server\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"react-dom/server\"\n ** module id = 4\n ** module chunks = 0\n **/","module.exports = require(\"react-router\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"react-router\"\n ** module id = 5\n ** module chunks = 0\n **/","import React from 'react'\nimport App from './App/App.js'\nimport KennelManagement from './KennelManagement/KennelManagement.js'\nimport Cats from './Cats/Cats.js'\nimport { Route } from 'react-router'\n\nexport default [\n\t<Route path=\"/\" component={App}/>,\n  <Route path=\"/cats\" component={Cats}/>,\n  <Route path=\"/kennels\" component={KennelManagement}/>\n]\n\n\n/** WEBPACK FOOTER **\n ** ./modules/routes.js\n **/","import React, { Component } from 'react'\nimport { Link } from 'react-router'\n\nexport default class App extends Component {\n  render() {\n    return <div>\n    \t<h1>Cat cattery manager</h1>\n\n    \t<h5>A simple async props example.</h5>\n\n    \t<ul role=\"nav\">\n        <li><Link to=\"/cats\">Cats</Link></li>\n        <li><Link to=\"/kennels\">Kennels</Link></li>\n      </ul>\n\n    </div>\n  }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./modules/App/App.js\n **/","import React, { Component } from 'react'\n\nexport default class KennelManagement extends Component {\n  render() {\n    return <div>\n    \t<h1>Manage the kennels</h1>\n    </div>\n  }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./modules/KennelManagement/KennelManagement.js\n **/","import React, { Component } from 'react'\n\nexport default class Cats extends Component {\n  render() {\n    return <div>\n    \t<h1>Cats in the cattery</h1>\n    </div>\n  }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./modules/Cats/Cats.js\n **/","module.exports = require(\"redux\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"redux\"\n ** module id = 10\n ** module chunks = 0\n **/","module.exports = require(\"react-redux\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"react-redux\"\n ** module id = 11\n ** module chunks = 0\n **/","function catsReducer(state = {}, action) {\n  return state\n}\n\nexport default catsReducer\n\n\n/** WEBPACK FOOTER **\n ** ./reducers/index.js\n **/","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = fetchNeeds;\nfunction fetchNeeds(params, store) {\n\n  var components = params.components;\n\n  var needs = [];\n  components.forEach(function (c) {\n    if (c.needs) {\n      needs.push(c.needs);\n    }\n  }, []);\n\n  var promises = needs.map(function (need) {\n    return need(params, store);\n  });\n\n  return Promise.all(promises).then(function (allNewProps) {\n    var newProps = {};\n    allNewProps.forEach(function (props) {\n      return Object.assign(newProps, props);\n    });\n    return newProps;\n  });\n}\nmodule.exports = exports['default'];\n\n\n/** WEBPACK FOOTER **\n ** ../lib/fetchNeeds.js\n **/","function callAPIMiddleware({ dispatch, getState }) {\n  return next => action => {\n    const {\n      types,\n      callAPI,\n      shouldCallAPI = () => true,\n      payload = {}\n    } = action\n\n    if (!types) {\n      // Normal action: pass it on\n      return next(action)\n    }\n\n    if (\n      !Array.isArray(types) ||\n      types.length !== 3 ||\n      !types.every(type => typeof type === 'string')\n    ) {\n      throw new Error('Expected an array of three string types.')\n    }\n\n    if (typeof callAPI !== 'function') {\n      throw new Error('Expected fetch to be a function.')\n    }\n\n    if (!shouldCallAPI(getState())) {\n      return\n    }\n\n    const [ requestType, successType, failureType ] = types\n\n    dispatch(Object.assign({}, payload, {\n      type: requestType\n    }))\n\n    return callAPI().then(\n      response => dispatch(Object.assign({}, payload, {\n        response,\n        type: successType\n      })),\n      error => dispatch(Object.assign({}, payload, {\n        error,\n        type: failureType\n      }))\n    )\n  }\n}\n\nexport default callAPIMiddleware\n\n\n/** WEBPACK FOOTER **\n ** ./lib/callAPIMiddleware.js\n **/","\nimport { Router } from 'express';\n\nconst router = new Router();\nconst cats = [{\n  name: 'Fluffy',\n  description: 'Fluffy is a pretty fluffy cat, she likes to be groomed.',\n}, {\n  name: 'Spike',\n  decription: 'Spike is very playful and enjoys playing with toys.',\n}]\n\nrouter.get('cats', (req, res, next) => {\n  res.status(200).send(cats)\n});\n\nexport default router\n\n\n/** WEBPACK FOOTER **\n ** ./api/cats.js\n **/","module.exports = \"<!DOCTYPE html>\\n<html>\\n<meta charset=\\\"utf-8\\\" />\\n<title>React Router Redux Async Props Example</title>\\n<div id=\\\"app\\\">$__APP_HTML__</div>\\n<script>\\n  window.__INITIAL_STATE__ = $__INITIAL_STATE__\\n</script>\\n<script src=\\\"bundle.js\\\"></script>\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/raw-loader!./index.template.html\n ** module id = 16\n ** module chunks = 0\n **/"],"sourceRoot":""}